<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <input id="input" style="width:100%; padding:10px; border:solid black 2px"/>

  <div id="messages"></div>

<script>

webSocket = new WebSocket('ws://localhost:3000')

console.log(webSocket.readyState)

webSocket.onopen = (e) => {
  console.log('Web Socket Connection Initialized')
}

webSocket.onmessage = (event) => {
  const div = document.querySelector('#messages')
  const message = document.createElement('p')
  message.textContent = event.data
  div.appendChild(message)
}

const input = document.querySelector('#input')
input.addEventListener("keyup", function(event) {
  // Number 13 is the "Enter" key on the keyboard
  if (event.keyCode === 13) {
    // Cancel the default action, if needed
    event.preventDefault();
    console.log("ada")
    // Trigger the button element with a click
    webSocket.send(event.target.value)
  }
}); 




</script>

</body>
</html>